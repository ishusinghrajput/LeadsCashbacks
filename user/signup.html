<!DOCTYPE html>
<html>
    <head>
        <title>
            Sign Up
        </title>
        <meta name="viewport" content="width=device-width , initial-scale = 1.0">
        <link rel="stylesheet" type="text/css" href="signupstyle.css">
       

    </head>
    <body>
      <div class="toplogo" >
        <img src="logoblack.png" class="logo" onclick="gotohome()" />
        <div class="nav">
            <img src="bulletlist.png" id="bulletlist"  class="bulletlist" onclick="shownavitems()">
        <div class="navitems" id="navitems" style="display: none;">
            <a href="https://leadscashbacks.ml" class="navhome">Home</a>
            <a href="http://leadsark.com/JoinNow.aspx?e=&id=98532&pid=0" class="navbuynow">Buy Now</a>
            <a id="navclaim" class="navclaim">Claim Cashback</a>
            <a id="navlogin" class="navlogin">Login</a>
        </div>
        </div>
      </div>
        <div class="main">
        <div class="form" id="form">
            <h1 class="createtext">Create Account</h1>
            <h3 class="createtext2">Create Account with the same email you used in LeadsArk to claim your cashback.</h3>
            <input class="name" id="name" type="text" 
            aria-label="Enter your name" placeholder="Enter your name">
            <input class="email" id="email" type="text" 
            aria-label="Enter your Email" placeholder="Enter your Email">
            <input class="password" id="password" type="text" 
            aria-label="Create password" placeholder="Create password">
            <a  id="create" class="create" >SignUp</a>
            <a href="login.html" class="already">Already have an account? Login</a>
        </div>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-analytics.js";
        import { getAuth, onAuthStateChanged , signOut , createUserWithEmailAndPassword , signInWithEmailAndPassword , sendEmailVerification } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAmVcedI8Rm6OEs-zVDL34NGdA-AsSg_yE",
          authDomain: "leadscashbacks.firebaseapp.com",
          databaseURL: "https://leadscashbacks-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "leadscashbacks",
          storageBucket: "leadscashbacks.appspot.com",
          messagingSenderId: "122044315259",
          appId: "1:122044315259:web:b140cd3a156ea5782614de",
          measurementId: "G-8Z17ZG5V4L"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();

        onAuthStateChanged(auth, (user) => {
     if (user) {
// User is signed in, see docs for a list of available properties
// https://firebase.google.com/docs/reference/js/firebase.User

const uid = user.uid;

document.getElementById("navlogin").innerHTML = "Logout";


// ...
} else {
// User is signed out
document.getElementById("navlogin").innerHTML = "Login";
// ...
}
});


    document.getElementById("create").addEventListener('click' , (e) => {
      var loading = document.getElementById("loading");
        loading.style.display = "block";
        document.getElementById("create").innerHTML = "Signing Up...";
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
    
    
           createUserWithEmailAndPassword(auth, email, password)
           .then((userCredential) => {
              // Signed in 
              const user = userCredential.user;

              document.getElementById("create").innerHTML = "SignUp";
              loading.style.display = "none";
              location.href = "profile.html";
              // ...
            })
            .catch((error) => {
              const errorCode = error.code;
              const errorMessage = error.message;
              loading.style.display = "none";
              document.getElementById("create").innerHTML = "SignUp";
              window.alert(errorMessage)
              // ..
            });
    });

    document.getElementById("navlogin").addEventListener('click' , (e) => {
        onAuthStateChanged(auth, (user) => {
         if (user) {
    // User is signed in, see docs for a list of available properties
    // https://firebase.google.com/docs/reference/js/firebase.User
    
    const uid = user.uid;
    //Sign out
signOut(auth).then(() => {
  // Sign-out successful.
}).catch((error) => {
  // An error happened.
});
    // ...
  } else {
    // User is signed out
   
    location.href = "login.html";
    // ...
  }
        });   
     });


     document.getElementById("navclaim").addEventListener('click' , (e) => {
        onAuthStateChanged(auth, (user) => {
         if (user) {
    // User is signed in, see docs for a list of available properties
    // https://firebase.google.com/docs/reference/js/firebase.User
    
    const uid = user.uid;
    
    location.href = "profile.html";

    // ...
  } else {
    // User is signed out
   
    location.href = "signup.html";
    // ...
  }
        });   
     });

    </script>

    <script>
    function shownavitems() {
       if(document.getElementById("navitems").style.display==="none"){
         document.getElementById("navitems").style.display = "block"; 
       }
       else {
         document.getElementById("navitems").style.display = "none"; 
        }
 
    }

    function gotohome() {
         location.href = "https://leadscashbacks.ml"
     
        }

    </script>

<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<lottie-player id="loading" class="loading" src="https://assets9.lottiefiles.com/packages/lf20_szlepvdh.json"  background="transparent"
  speed="1"  style="width: 300px; height: 300px;"  loop  autoplay></lottie-player>


    </body>

    
    
</html>
